<main>
<h1>Gossip#show</h1>
<p>Find me in app/views/gossip/show.html.erb</p>

<div class="box-show">
<div class="card card-gossip">
  <h5 class="card-title"><%= @gossip.title %></h5>
  <p class="card-title"><strong>Content : </strong> <%= @gossip.content %></p>
  <p class="card-text"> <a href="<%= user_path(@user.id) %>" class="btn bouton justify-content-md-end me-md-2"><strong>Author : </strong><%= "#{@user.first_name}, #{@user.last_name}" %></a></p>
  <p class="card-text"> </p>
  <p class="card-text"> <a href="<%= city_path(@city.id) %>" class="btn bouton justify-content-md-end me-md-2"><strong>City : </strong><%= @user.city.name %></a> </p>

  <p class="card-text"> <strong>Create : </strong><%= @gossip.created_at.strftime("%d/%m/%Y") %></p>
  <p class="card-text"> <strong>Comments : </strong>

  <% @comments.each do |comment| %>
    <h5 class="card-title"><%= comment.content %></h5>
      <p class="card-text"> <a href="<%= user_path(comment.user.id) %>" class="btn bouton justify-content-md-end me-md-2"><strong>Author : </strong><%= "#{comment.user.first_name}, #{comment.user.last_name}" %></a></p>
      <%= link_to "Editer", edit_gossip_comment_path(@gossip, comment), class: "btn bouton-gossip btn bouton-gossip justify-content-md-end me-md-2" %>
      <%= button_to "Delete", [@gossip, comment], :method => :delete, class: "btn btn-danger", id: "delete_gossip_button" %>
  <% end %>

  <div class="box-show-button">
  <%= link_to "Revenir Ã  tous les gossips", gossips_path, class: "btn bouton-gossip justify-content-md-end me-md-2" %>
  <%= link_to "Editer", edit_gossip_path(@gossip), class: "btn bouton-gossip btn bouton-gossip justify-content-md-end me-md-2" %>
  <%= button_to "Delete", @gossip, :method => :delete, class: "btn btn-danger", id: "delete_gossip_button" %>
  </div>
</div>
</div>

<%= form_with(model: [@gossip, Comment.build])  do |f| %>

  <div class="form-group">
    <label>Content</label>
    <%= f.text_area :content, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= f.collection_select :user_id, User.order(:first_name), :id, :first_name %>
  </div>

  <%= f.hidden_field :gossip_id, :value => @gossip.id %>

  <div class="form-group">
  <button type="submit" class="btn bouton-gossip">Valider</button>
</div>

<% end %>

</main>

